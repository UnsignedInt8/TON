# 附录： TON 代币（即 Gram）

TON 区块链的主要加密货币（特别是其主链和基本工作链）是 TON Coin，也称为 Gram（GRM）。 它用于验证人所需的存款、交易费、燃料费（即智能合约处理费）和持久存储。

## A.1 单位划分和术语

Gram 被细分为十亿（10^9）个单位，称为 nanograms，ngram 或 nanos。 所有转账和账户余额均表示为 nanos 的非负整数倍。 其他单位包括：

1. nanos，ngram 或 ngrams 是最小的单位，等于 10<sup>-9</sup> Gram.
2. 1 micro(microgram) = 10<sup>3</sup> nanos.
3. 1 milli = 10<sup>6</sup> nanos，或 10<sup>-3</sup> Gram.
4. 1 Gram = 10<sup>9</sup> nanos.
5. 1 kilogram(kGram) = 10<sup>3</sup> Grams.
6. 1 megagram(MGram) = 10<sup>6</sup> Grams = 10<sup>15</sup> nanos.
7. 1 gigagram(GGram) = 10<sup>9</sup> Grams = 10<sup>18</sup> nanos.

之后不需要更大的单位了，因为 Grams 的初始供应量将限制在 50 亿（5·10<sup>9</sup>）Grams（即，5 Gigagrams）。

## A.2 用更小的单位表示燃料价格

如果需要更小的单位，那么可以使用 "specks" = 2<sup>-16</sup> nanograms。 例如，燃料价格可以用 specks 表示。 但是，实际支付的费用，即燃料价格和消耗总燃料的乘积，将总是 2<sup>16</sup> specks 倍的向下取整，并表示为 nanos。

## A.3 初始供应量，新块奖励和通货膨胀

Grams 的初始供应量限制在 5 Gigagrams（即 50 亿 Grams，或 5·10<sup>18</sup> nanos）。

因为挖掘新主链块和分片块的验证人的奖励累积，所以货币供应量将非常缓慢地增加。如果验证人永不脱机地努力签署所有区块，并且永远不签署无效区块，则每年这些奖励将相当于验证人股权的大约 20％（未来可以调整确切数量）。 通过这种方式，验证人将有足够的利润来投资于处理不断增长的用户交易量所需的更好和更快的硬件。

我们预计，在任何时刻，验证人的股权最多占有 10％ 的 Grams 总供应量。 所以这将导致每年 2％ 的通货膨胀率，因此，35 年内 Grams 的总供应量会增加一倍（达到10 Gigagrams）。 从本质上讲，这种通货膨胀代表了社区所有成员向验证人员支付的费用，用于保持系统正常运行。

另一方面，如果验证人行为不端，作为惩罚，其部分或全部股权将被“销毁”，从而减少 Grams 的总供应量，这就会导致通货紧缩。 一小部分罚金可以重新分配给揭发行为不端验证人的“渔夫”或验证人。

## A.4 Gram 的原始价格

第一批销售的 Gram 价格约为 0.1 美元（USD）。随后 TON Reserve 出售的 Gram（由TON基金会控制）的价格将比前一批高十亿分之一。这样，待投入流通的第 n 批 Grams 的价格大约是：

> (式26) p(n) ≈ 0.1 · (1 + 10<sup>−9</sup>)<sup>n</sup> USD

或（因为市场汇率快速变化）大致相当于其他（加密）货币的波动。

## A.4.1 指数级价格的加密货币

我们说 Gram 是一个指数级价格的加密货币，这意味着要进入流通的第 n 批 Gram 的价格大约是公式:

> (式27) p(n) = p<sub>0</sub> · e<sup>αn</sup>

这里， p<sub>0</sub> = 0.1 USD，α = 10<sup>−9</sup>。

更准确地说，一旦新币(dn)投入流通，新币的价值就是 p(n)dn 美元。（这里n不一定是整数。）

另一个重要参数是流通中的总币数 n，以及 N ≥ n（即可存在的总币数）。对于 Gram，N = 5·10<sup>9</sup>。

## A.4.2 前 n 批次代币的总价

要进入流通的前 n 批代币的总价格 ![T(n)](https://latex.codecogs.com/svg.latex?T(n)&space;=\int_{0}^{n}p(n)dn&space;\approx&space;p(0)&space;&plus;&space;p(1)&space;&plus;&space;...&space;&plus;&space;p(n-1)) 可以通过以下公式计算：

> (式28) T(n) = p<sub>0</sub> · α<sup>−1</sup>(e<sup>αn</sup> − 1)

## A.4.3 后续 Δn 批次代币的总价

在先前 n 个批次之后投入流通的 Δn 个批次代币的总价格 T(n + Δn) - T(n) 可以通过以下方式计算：

> (式29) T(n + ∆n) − T(n) = p<sub>0</sub> ·α<sup>−1</sup>(e<sup>α(n+∆n)</sup> −e<sup>αn</sup>) = p(n)·α<sup>−1</sup>(e<sup>α∆n</sup> −1)

## A.4.4 用总价值 T 购买下一批次代币

假设已有 n 个币投入流通，并且想要花费 T（美元）购买新币。 通过将 T(n+Δn) - T(n) = T 置于（式29）中，可以计得到新币的数量 Δn：

> ![Δn](https://latex.codecogs.com/svg.latex?\Delta&space;n&space;=&space;\alpha^{-1}&space;log\left&space;(1&plus;&space;\frac{T\cdot&space;\alpha&space;}{p(n)}&space;\right&space;))

当然，如果 T ≪ p(n)α<sup>-1</sup>，那么 ∆n ≈ T/p(n)。

## A.4.5 Grams 的市场价格

当然，如果自由市场价格低于 p(n) := 0.1·(1 + 10<sup>-9</sup>)<sup>n</sup>，一旦 n Grams 进入流通，就没有人会从 TON Reserve 中购买新的 Grams，因为他们会选择在自由市场上购买 Grams，从而不会增加 Grams 的总流通量。 另一方面，这就要求 Gram 的市场价格不会过高于 p(n)，否则从 TON Reserve 购买新的 Grams就是合算的。 这也意味着 Grams 的市场价格不会突然暴涨（或暴跌）; 所以这个机制很重要，因为股权（验证人存款）会被冻结至少一个月，所以燃料价格也不会变得太快。因此，该系统的整体经济稳定性就需要一些机制来防止 Gram 的汇率变化不会太大。